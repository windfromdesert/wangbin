# 正则指引

## 第一部分

### 第1章：字符组

+ 普通字符组
    - 字符组是正则表达式最基本的结构之一。
    - 字符组就是一组字符，在正则表达式中，它表示“在同一个位置可能出现的各种字符”，其写法是在一对方括号[和]之间列出所有可能出现的字符。
    - 表示范围法。如 [0-9a-zA-Z]可以匹配数字、大写字母或小写字母。
    - 在不少语言中，还可以用转义序列\xhex来表示一个字符，其中\x是固定前缀，表示转义序列的开头，num是字符对应的码值，是一个两位的十六进制数值。字符组中有时会出现这种表示法，它可以表现一些难以输入或者难以显示的字符，比如所有ASCII字符组就是[\x00-\x7F]，这种表示法很重要。
+ 元字符与转义
    - 表示范围的“-”，还有字符组的方括号“[”“]”和“^”“$”都算元字符。在匹配中，它们有着特殊的意义。
    - 如果对于上面的元字符，只需要表示普通字符，就需要做特殊处理，即转义。
        * 先看字符组中的“-”，如果它紧邻着字符组中的开方括号[，那么它就是普通字符，其他情况下都是元字符；
        * 对于其它元字符，取消特殊含义的做法都是转义，也就是在正则表达式中的元字符之前加上反斜线字符\。
        * 需要注意的是，反斜线\在很多语言中并不等同于转义字符，还必须转义为\\，所以有时需要写两个反斜线。
        * 原生字符串和字符串的等价：r"^[0\-9]$" == "^[0\\-9]$"
        * 如果只希望匹配字符串[012]，直接使用正则表达式[012]是不行的，而必须转义，把正则表达式写作\[012]，请注意，只有开方括号[需要转义，闭方括号]不需要转义。
+ 排除型字符组
    - 在普通字符组的开方括号[之后紧跟一个脱字符^，写作[^...]，表示“在当前位置，匹配一个没有列出的字符”。
    - [^0-9] 表示“0~9”之外的字符，也就是非数字字符。
    - 排除型字符必须匹配一个字符，这点一定要记住。
    - 脱字符紧跟在开方括号后就代表排除型元字符，如果要表示脱字符的普通字符，只要不让它紧挨着[即可，否则就要转义。
+ 字符组简记法
    - 用[0-9][a-z]等字符组，可以很方便地表示数字字符和小写字母字符，对于这类常用的字符组，正则表达式提供了更简单的记法，这就是字符组简记法。
    - \d 等价于 [0-9] : d 代表数字 digit
    - \w 等价于 [0-9a-zA-Z_] : w 代表单词字符 word
    - \s 等价于 [ \t\r\n\v\f] (第一个字符是空格)，s 表示空白字符Space
    - 字符组简记法可以单独出现，也可以使用在字符组中。比如[0-9a-zA-Z]也可以写作[\da-zA-Z]
    - 相对于 \d \w \s 三个普通字符组简记法，正则表达式也提供了对应排除型字符组的简记法：\D \W \S 字母完全一样，只是改为大写。这些简记法匹配的字符互补，如 \s 能匹配的字符 \S 一定不能匹配。
    - 任意字符：[\s\S][\d\D][\w\W]。点号 . 其实不能匹配换行符。
    - 如果字符组中出现了字符组简记法，最好不要出现单独的-，否则可能引起错误。
    - 以上说的 \d \w \s 的匹配规则，都是针对ASCII编码而言的，也叫ASCII匹配规则。但目前在一些语言中的正则表达式已支持Unicode字符，所以数字字符、单词字符、空白字符的范围，已经不仅限于ASCII编码中的字符了。
+ 字符组运算
    - 在某些语言中，比如 Java 和 .NET 就提供了字符组运算功能。
    - Java : [[a-z]&&[^aeiou]] ，表示两者取交集，即得到26个英文字母中，除去5个元音字母后剩下的21个辅音字母。
    - .NET : [a-z-[aeiou]]
+ POSIX字符组
